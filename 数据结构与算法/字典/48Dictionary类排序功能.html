<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title></title>
		<script type="text/javascript">
			/*
			 * 在数组中，若key为字符串，则直接调用sort()方法进行排序是无效的，解决方法是在showAll的Object.keys()方法中进行对key的排序
			 * 增加了showAllSort()
			 */
			function Dictionary() {
				this.dataStore = new Array();
				this.add = add;
				this.find = find;
				this.remove = remove;
				this.showAll = showAll;
				this.showAllSort = showAllSort;
				this.count = count;
				this.clear = clear;
			}

			function add(key, value) {
				this.dataStore[key] = value;
			}

			function find(key) {
				return this.dataStore[key];
			}

			function remove(key) {
				delete this.dataStore[key];
			}

			function showAll() {
				//Array.prototype.slice.call(arguments)能够将arguments转成数组
				//Object.keys（obj），返回一个数组，数组里是该obj可被枚举的所有属性。
				var datakeys = Array.prototype.slice.call(Object.keys(this.dataStore));
				for (var key in datakeys) {
					alert(datakeys[key] + '->' + this.dataStore[datakeys[key]]);
				}
			}

			function showAllSort() {
				var datakeys = Array.prototype.slice.call(Object.keys(this.dataStore).sort());
				for (var key in datakeys) {
					alert(datakeys[key] + '->' + this.dataStore[datakeys[key]]);
				}
			}

			function count() {
				var n = 0;
				for (var key in Object.keys(this.dataStore)) {
					++n;
				}
				return n;
			}

			function clear() {
				/*	Object.keys(this.dataStore).forEach(function(key) {
						delete this.dataStore[key];
					}, this);*/
				var dataKeys = Object.keys(this.dataStore);
				for (var key in dataKeys) {
					delete this.dataStore[dataKeys[key]];
				}
			}
			var pbook = new Dictionary();
			pbook.add('Milk', '123');
			pbook.add('David', '456');
			pbook.add('Cynthia', '789');
			 //alert(pbook.find('David'));
			 //pbook.remove('David');
			 //alert(pbook.count());
			 //pbook.clear();
			 //alert(pbook.count());
			pbook.showAll(); //Milk David Cynthia
			pbook.showAllSort(); //Cynthia David Milk
		</script>
	</head>

	<body>
	</body>

</html>